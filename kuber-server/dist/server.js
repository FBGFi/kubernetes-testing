(()=>{"use strict";var e={607:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(860)),i=o(s(582)),n=o(s(231)),a=o(s(557));o(s(142)).default.config();const c=(0,r.default)(),l=process.env.PORT;c.use(r.default.json()),c.use((0,i.default)());const u=e=>{n.default.writeFile("./.log",e,{flag:"a+"},(e=>{e&&console.error(e)}))},h=(e=>{const t=["a","b","c","d","!","?","1","2","3"];let s,o="";for(let e=0;e<30;e++)s=Math.ceil(Math.random()*t.length)-1,o+=t[s];return o})();c.get("/",((e,t)=>{console.log({NAME:process.env.NAME,TITLE:process.env.TITLE,PASSWORD:process.env.password}),u("Requested from "+h+"\n\n"),t.json({status:200,data:{id:h,env:process.env}})})),c.get("/test",((e,t)=>{t.json({})})),c.get("/api",((e,t)=>{const s=new a.default;try{s.callApi((e=>t.json(e)))}catch(e){console.log("ERROR THERE"),console.error(e),t.json({status:500,message:"Internal server error"})}})),c.get("/logs",((e,t)=>{n.default.readFile("./.log","utf8",((e,s)=>{e?(console.error(e),t.json({status:400})):t.json({status:200,address:""})}))})),c.get("/roominfo/:roomName",((e,t)=>{t.json({status:200,address:""})})),c.listen(l,(()=>{const e=`\t${(new Date).toLocaleString()}\n[server]: Server started on port: ${l}\n\n`;console.log(e),u(e)}))},709:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this._serviceAccountPath="/var/run/secrets/kubernetes.io/serviceaccount",this._certFileName="ca.crt",this._tokenName="token",this._protocol="https",this._apiEndpoint="kubernetes.default.svc/api",this._apiVersion="v1",this.getCertPath=()=>`${this.serviceAccountPath}/${this.certFileName}`,this.getTokenPath=()=>`${this.serviceAccountPath}/${this.tokenName}`,this.getApiRoute=()=>`${this.protocol}://${this.apiEndpoint}/${this.apiVersion}`}get apiVersion(){return this._apiVersion}set apiVersion(e){this._apiVersion=e}get serviceAccountPath(){return this._serviceAccountPath}set serviceAccountPath(e){this._serviceAccountPath=e}get certFileName(){return this._certFileName}set certFileName(e){this._certFileName=e}get tokenName(){return this._tokenName}set tokenName(e){this._tokenName=e}get protocol(){return this._protocol}set protocol(e){this._protocol=e}get apiEndpoint(){return this._apiEndpoint}set apiEndpoint(e){this._apiEndpoint=e}}},557:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(709)),i=o(s(617)),n=o(s(167)),a=o(s(231));class c extends r.default{constructor(){super(...arguments),this.getCertFile=()=>a.default.readFileSync(this.getCertPath()),this.getTokenFile=()=>a.default.readFileSync(this.getTokenPath())}fileReaderCallback(e,t){if(!e)return t;console.error(e)}getAxiosConfig(){return{httpsAgent:new i.default.Agent({ca:this.getCertFile(),keepAlive:!1}),headers:{Authorization:`Bearer ${this.getTokenFile()}`}}}callApi(e){n.default.get(this.getApiRoute(),this.getAxiosConfig()).then((t=>{e(t.data)})).catch((e=>{console.log("ERROR HERE"),console.error(e)}))}}t.default=c},167:e=>{e.exports=require("axios")},582:e=>{e.exports=require("cors")},142:e=>{e.exports=require("dotenv")},860:e=>{e.exports=require("express")},231:e=>{e.exports=require("fs")},617:e=>{e.exports=require("https")}},t={};!function s(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,s),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FIQU8sRUFBb0JILEdBQVVJLEtBQUtULEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVNHLEdBR3BFSixFQUFPQyxRQ2xCV0csQ0FBb0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL2t1YmVyLXNlcnZlci8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvLi9zcmMvbW9kdWxlcy9LdWJlckNsaWVudC9LdWJlckNvbmZpZy50cyIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvLi9zcmMvbW9kdWxlcy9LdWJlckNsaWVudC9pbmRleC50cyIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvZXh0ZXJuYWwgY29tbW9uanMgXCJheGlvc1wiIiwid2VicGFjazovL2t1YmVyLXNlcnZlci9leHRlcm5hbCBjb21tb25qcyBcImNvcnNcIiIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvZXh0ZXJuYWwgY29tbW9uanMgXCJkb3RlbnZcIiIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvZXh0ZXJuYWwgY29tbW9uanMgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8va3ViZXItc2VydmVyL2V4dGVybmFsIGNvbW1vbmpzIFwiZnNcIiIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvZXh0ZXJuYWwgY29tbW9uanMgXCJodHRwc1wiIiwid2VicGFjazovL2t1YmVyLXNlcnZlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9rdWJlci1zZXJ2ZXIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuLy8gaW1wb3J0IHsgZXhlYyB9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XHJcbi8vIGltcG9ydCBrOHMsIHsgS3ViZUNvbmZpZywgQ29yZVYxQXBpIH0gZnJvbSAnQGt1YmVybmV0ZXMvY2xpZW50LW5vZGUnO1xyXG4vLyBpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmltcG9ydCBLdWJlckNsaWVudCBmcm9tICdyb290L21vZHVsZXMvS3ViZXJDbGllbnQnO1xyXG5cclxuLy8gRG9lcyB0aGlzIGNvbGxpZGUgd2l0aCBEb2NrZXIgcG9ydD8gKE5vLCBEb2NrZXJmaWxlcyBjb25mIG92ZXJydW5zIHRoaXMpXHJcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVJhbmRvbVN0cmluZyA9IChsZW5ndGg6IG51bWJlcikgPT4ge1xyXG4gIGNvbnN0IGNoYXJzID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcIiFcIiwgXCI/XCIsIFwiMVwiLCBcIjJcIiwgXCIzXCJdO1xyXG4gIGxldCB2YWx1ZSA9IFwiXCI7XHJcbiAgbGV0IHJhbmRvbTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICByYW5kb20gPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkgLSAxO1xyXG4gICAgdmFsdWUgKz0gY2hhcnNbcmFuZG9tXTtcclxuICB9XHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59O1xyXG5cclxuY29uc3Qgd3JpdGVUb0xvZyA9IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcclxuICBmcy53cml0ZUZpbGUoXCIuLy5sb2dcIiwgbWVzc2FnZSwgeyBmbGFnOiBcImErXCIgfSwgKGVycikgPT4ge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGFwcElEID0gY3JlYXRlUmFuZG9tU3RyaW5nKDMwKTtcclxuXHJcblxyXG5hcHAuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcclxuICAvLyBUaGlzIHJlc3RhcnRzIHRoZSBwb2QgYXV0b21hdGljYWxseSB3aXRoIG5vIGhhc3NsZSAoc28gaWYgYXBwIGNyYXNoZXMgYWxsIGlzIGZpbmUpXHJcbiAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKGBcXHQke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1cXG5bc2VydmVyXTogQ2xvc2luZyBzZXJ2ZXIgXFxuYCk7XHJcbiAgLy8gICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICAvLyB9LDUwMDApO1xyXG4gIGNvbnNvbGUubG9nKHsgTkFNRTogcHJvY2Vzcy5lbnYuTkFNRSwgVElUTEU6IHByb2Nlc3MuZW52LlRJVExFLCBQQVNTV09SRDogcHJvY2Vzcy5lbnYucGFzc3dvcmQgfSk7XHJcbiAgd3JpdGVUb0xvZyhcIlJlcXVlc3RlZCBmcm9tIFwiICsgYXBwSUQgKyBcIlxcblxcblwiKTtcclxuICByZXMuanNvbih7XHJcbiAgICBzdGF0dXM6IDIwMCxcclxuICAgIGRhdGE6IHsgaWQ6IGFwcElELCBlbnY6IHByb2Nlc3MuZW52IH1cclxuICB9KTtcclxufSk7XHJcblxyXG5hcHAuZ2V0KFwiL3Rlc3RcIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgLy8gZXhlYyhcIlwiLCAoZXJyb3IsIHN0ZG91dCwgc3RkZXJyKSA9PiB7XHJcbiAgLy8gICBpZiAoZXJyb3IpIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coYGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgLy8gICAgIHJldHVybjtcclxuICAvLyAgIH1cclxuICAvLyAgIGlmIChzdGRlcnIpIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coYHN0ZGVycjogJHtzdGRlcnJ9YCk7XHJcbiAgLy8gICAgIHJldHVybjtcclxuICAvLyAgIH1cclxuICAvLyAgIGNvbnNvbGUubG9nKGBzdGRvdXQ6ICR7c3Rkb3V0fWApO1xyXG4gIC8vIH0pO1xyXG4gIC8vIGF4aW9zLmdldChcImh0dHA6Ly8xOTIuMTY4LjQ5LjI6NjM1MjgvYXBpL3YxL25hbWVzcGFjZXMva3ViZXJuZXRlcy1kYXNoYm9hcmQvXCIpXHJcbiAgLy8gICAudGhlbigocmVzcG9uc2UpID0+IHJlcy5qc29uKHJlc3BvbnNlKSlcclxuICAvLyAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgLy8gICAgIHJlcy5qc29uKGVycilcclxuICAvLyAgIH0pXHJcbiAgcmVzLmpzb24oe30pO1xyXG59KTtcclxuXHJcbmFwcC5nZXQoXCIvYXBpXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNsaWVudCA9IG5ldyBLdWJlckNsaWVudCgpO1xyXG4gIC8vIHd0ZiwgZG9lc250IHdvcmsgd2l0aG91dCB0cnljYXRjaFxyXG4gIHRyeSB7XHJcbiAgICBjbGllbnQuY2FsbEFwaSgoZGF0YSkgPT4gcmVzLmpzb24oZGF0YSkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkVSUk9SIFRIRVJFXCIpXHJcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIHJlcy5qc29uKHtzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIn0pO1xyXG4gIH1cclxufSlcclxuXHJcbi8vIFRPRE8gbG9ncyBlbmRwb2ludCB0byBzYXZlIHNlcnZlciBzdGFydGluZyBsb2dzIGV0Y1xyXG5hcHAuZ2V0KFwiL2xvZ3NcIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgZnMucmVhZEZpbGUoXCIuLy5sb2dcIiwgXCJ1dGY4XCIsIChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICByZXMuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgIGFkZHJlc3M6IFwiXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuYXBwLmdldChcIi9yb29taW5mby86cm9vbU5hbWVcIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3RhdHVzOiAyMDAsXHJcbiAgICBhZGRyZXNzOiBcIlwiXHJcbiAgfSk7XHJcbn0pXHJcblxyXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICBjb25zdCBsb2dNZXNzYWdlID0gYFxcdCR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfVxcbltzZXJ2ZXJdOiBTZXJ2ZXIgc3RhcnRlZCBvbiBwb3J0OiAke3BvcnR9XFxuXFxuYDtcclxuICBjb25zb2xlLmxvZyhsb2dNZXNzYWdlKTtcclxuICB3cml0ZVRvTG9nKGxvZ01lc3NhZ2UpO1xyXG59KTtcclxuXHJcbi8vIFRoaXMgbGlicmFyeXMgZG9jdW1lbnRhdGlvbiBpcyBwdXJlIGdhcmJhZ2UsIGxldHMgdHJ5IHNvbWUgaGFja3NcclxuLy8gdHJ5IHtcclxuLy8gICBjb25zdCBrYyA9IG5ldyBLdWJlQ29uZmlnKCk7XHJcbi8vICAga2MubG9hZEZyb21EZWZhdWx0KCk7XHJcbi8vICAgY29uc3QgazhzQXBpID0ga2MubWFrZUFwaUNsaWVudChDb3JlVjFBcGkpO1xyXG5cclxuLy8gICBrOHNBcGkubGlzdE5hbWVzcGFjZWRQb2QoJ2RlZmF1bHQnKS50aGVuKChyZXMpID0+IHtcclxuLy8gICAgIHdyaXRlVG9Mb2coSlNPTi5zdHJpbmdpZnkocmVzLmJvZHkpKTtcclxuLy8gICB9KTtcclxuLy8gfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICBjb25zb2xlLmxvZyhlcnJvcik7XHJcblxyXG4vLyB9XHJcbiIsIi8vIExldHMgdHJ5IG9iamVjdCBmYWN0b3J5IGhlcmUuLi4gb3Igbm90XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt1YmVyQ29uZmlnIHtcclxuICAgIHByaXZhdGUgX3NlcnZpY2VBY2NvdW50UGF0aCA9IFwiL3Zhci9ydW4vc2VjcmV0cy9rdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50XCI7XHJcbiAgICBwcml2YXRlIF9jZXJ0RmlsZU5hbWUgPSBcImNhLmNydFwiO1xyXG4gICAgcHJpdmF0ZSBfdG9rZW5OYW1lID0gXCJ0b2tlblwiO1xyXG4gICAgcHJpdmF0ZSBfcHJvdG9jb2wgPSBcImh0dHBzXCI7XHJcbiAgICBwcml2YXRlIF9hcGlFbmRwb2ludCA9IFwia3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy9hcGlcIjtcclxuICAgIHByaXZhdGUgX2FwaVZlcnNpb24gPSBcInYxXCI7XHJcblxyXG4gICAgcHVibGljIGdldENlcnRQYXRoID0gKCkgPT4gYCR7dGhpcy5zZXJ2aWNlQWNjb3VudFBhdGh9LyR7dGhpcy5jZXJ0RmlsZU5hbWV9YDtcclxuICAgIHB1YmxpYyBnZXRUb2tlblBhdGggPSAoKSA9PiBgJHt0aGlzLnNlcnZpY2VBY2NvdW50UGF0aH0vJHt0aGlzLnRva2VuTmFtZX1gXHJcbiAgICBwdWJsaWMgZ2V0QXBpUm91dGUgPSAoKSA9PiBgJHt0aGlzLnByb3RvY29sfTovLyR7dGhpcy5hcGlFbmRwb2ludH0vJHt0aGlzLmFwaVZlcnNpb259YDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFwaVZlcnNpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwaVZlcnNpb247XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGFwaVZlcnNpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9hcGlWZXJzaW9uID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHNlcnZpY2VBY2NvdW50UGF0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2VydmljZUFjY291bnRQYXRoO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBzZXJ2aWNlQWNjb3VudFBhdGgodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlQWNjb3VudFBhdGggPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgY2VydEZpbGVOYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jZXJ0RmlsZU5hbWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGNlcnRGaWxlTmFtZSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2NlcnRGaWxlTmFtZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCB0b2tlbk5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VuTmFtZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgdG9rZW5OYW1lKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdG9rZW5OYW1lID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHByb3RvY29sKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm90b2NvbDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgcHJvdG9jb2wodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9wcm90b2NvbCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBhcGlFbmRwb2ludCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXBpRW5kcG9pbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGFwaUVuZHBvaW50KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fYXBpRW5kcG9pbnQgPSB2YWx1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCBLdWJlckNvbmZpZyBmcm9tIFwiLi9LdWJlckNvbmZpZ1wiO1xyXG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xyXG5pbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXF1ZXN0Q29uZmlnLCBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ViZXJDbGllbnQgZXh0ZW5kcyBLdWJlckNvbmZpZyB7XHJcblxyXG4gICAgcHJpdmF0ZSBmaWxlUmVhZGVyQ2FsbGJhY2soZXJyOiBOb2RlSlMuRXJybm9FeGNlcHRpb24sIGRhdGE6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENlcnRGaWxlID0gKCkgPT4gZnMucmVhZEZpbGVTeW5jKHRoaXMuZ2V0Q2VydFBhdGgoKSk7XHJcbiAgICBwcml2YXRlIGdldFRva2VuRmlsZSA9ICgpID0+IGZzLnJlYWRGaWxlU3luYyh0aGlzLmdldFRva2VuUGF0aCgpKTtcclxuICAgIHByaXZhdGUgZ2V0QXhpb3NDb25maWcoKTogQXhpb3NSZXF1ZXN0Q29uZmlnIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBodHRwc0FnZW50OiBuZXcgaHR0cHMuQWdlbnQoe1xyXG4gICAgICAgICAgICAgICAgY2E6IHRoaXMuZ2V0Q2VydEZpbGUoKSxcclxuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZTogZmFsc2VcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmdldFRva2VuRmlsZSgpfWBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsbEFwaShjYWxsQmFjazogKGRhdGE6IEF4aW9zUmVzcG9uc2UpID0+IHZvaWQpe1xyXG4gICAgICAgIGF4aW9zLmdldCh0aGlzLmdldEFwaVJvdXRlKCksIHRoaXMuZ2V0QXhpb3NDb25maWcoKSlcclxuICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBjYWxsQmFjayhyZXMuZGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiBIRVJFXCIpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXhpb3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkb3RlbnZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwc1wiKTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwibmFtZXMiOlsiY29uZmlnIiwiYXBwIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwidXNlIiwianNvbiIsIndyaXRlVG9Mb2ciLCJtZXNzYWdlIiwid3JpdGVGaWxlIiwiZmxhZyIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImFwcElEIiwibGVuZ3RoIiwiY2hhcnMiLCJyYW5kb20iLCJ2YWx1ZSIsImkiLCJNYXRoIiwiY2VpbCIsImNyZWF0ZVJhbmRvbVN0cmluZyIsImdldCIsInJlcSIsInJlcyIsImxvZyIsIk5BTUUiLCJUSVRMRSIsIlBBU1NXT1JEIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJkYXRhIiwiaWQiLCJjbGllbnQiLCJjYWxsQXBpIiwicmVhZEZpbGUiLCJhZGRyZXNzIiwibGlzdGVuIiwibG9nTWVzc2FnZSIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIl9zZXJ2aWNlQWNjb3VudFBhdGgiLCJfY2VydEZpbGVOYW1lIiwiX3Rva2VuTmFtZSIsIl9wcm90b2NvbCIsIl9hcGlFbmRwb2ludCIsIl9hcGlWZXJzaW9uIiwiZ2V0Q2VydFBhdGgiLCJ0aGlzIiwic2VydmljZUFjY291bnRQYXRoIiwiY2VydEZpbGVOYW1lIiwiZ2V0VG9rZW5QYXRoIiwidG9rZW5OYW1lIiwiZ2V0QXBpUm91dGUiLCJwcm90b2NvbCIsImFwaUVuZHBvaW50IiwiYXBpVmVyc2lvbiIsIkt1YmVyQ2xpZW50IiwiZ2V0Q2VydEZpbGUiLCJyZWFkRmlsZVN5bmMiLCJnZXRUb2tlbkZpbGUiLCJmaWxlUmVhZGVyQ2FsbGJhY2siLCJnZXRBeGlvc0NvbmZpZyIsImh0dHBzQWdlbnQiLCJBZ2VudCIsImNhIiwia2VlcEFsaXZlIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJjYWxsQmFjayIsInRoZW4iLCJjYXRjaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9